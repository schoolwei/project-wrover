"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[144],{3618:function(e,t,n){n.d(t,{z:function(){return h}});var r=n(2110),o=n(6602),i=n(4090),a=n(6376),l=Object.defineProperty,c=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s=(e,t,n)=>(c(e,"symbol"!=typeof t?t+"":t,n),n);let u=new a.Ray,d=new a.Plane,f=Math.cos(Math.PI/180*70),p=(e,t)=>(e%t+t)%t;class m extends a.EventDispatcher{constructor(e,t){super(),s(this,"object"),s(this,"domElement"),s(this,"enabled",!0),s(this,"target",new a.Vector3),s(this,"minDistance",0),s(this,"maxDistance",1/0),s(this,"minZoom",0),s(this,"maxZoom",1/0),s(this,"minPolarAngle",0),s(this,"maxPolarAngle",Math.PI),s(this,"minAzimuthAngle",-1/0),s(this,"maxAzimuthAngle",1/0),s(this,"enableDamping",!1),s(this,"dampingFactor",.05),s(this,"enableZoom",!0),s(this,"zoomSpeed",1),s(this,"enableRotate",!0),s(this,"rotateSpeed",1),s(this,"enablePan",!0),s(this,"panSpeed",1),s(this,"screenSpacePanning",!0),s(this,"keyPanSpeed",7),s(this,"zoomToCursor",!1),s(this,"autoRotate",!1),s(this,"autoRotateSpeed",2),s(this,"reverseOrbit",!1),s(this,"reverseHorizontalOrbit",!1),s(this,"reverseVerticalOrbit",!1),s(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),s(this,"mouseButtons",{LEFT:a.MOUSE.ROTATE,MIDDLE:a.MOUSE.DOLLY,RIGHT:a.MOUSE.PAN}),s(this,"touches",{ONE:a.TOUCH.ROTATE,TWO:a.TOUCH.DOLLY_PAN}),s(this,"target0"),s(this,"position0"),s(this,"zoom0"),s(this,"_domElementKeyEvents",null),s(this,"getPolarAngle"),s(this,"getAzimuthalAngle"),s(this,"setPolarAngle"),s(this,"setAzimuthalAngle"),s(this,"getDistance"),s(this,"listenToKeyEvents"),s(this,"stopListenToKeyEvents"),s(this,"saveState"),s(this,"reset"),s(this,"update"),s(this,"connect"),s(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=e=>{let t=p(e,2*Math.PI),r=h.phi;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let o=Math.abs(t-r);2*Math.PI-o<o&&(t<r?t+=2*Math.PI:r+=2*Math.PI),v.phi=t-r,n.update()},this.setAzimuthalAngle=e=>{let t=p(e,2*Math.PI),r=h.theta;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let o=Math.abs(t-r);2*Math.PI-o<o&&(t<r?t+=2*Math.PI:r+=2*Math.PI),v.theta=t-r,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",en),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",en),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),c=l.NONE},this.update=(()=>{let t=new a.Vector3,o=new a.Vector3(0,1,0),i=new a.Quaternion().setFromUnitVectors(e.up,o),s=i.clone().invert(),p=new a.Vector3,y=new a.Quaternion,w=2*Math.PI;return function(){let E=n.object.position;i.setFromUnitVectors(e.up,o),s.copy(i).invert(),t.copy(E).sub(n.target),t.applyQuaternion(i),h.setFromVector3(t),n.autoRotate&&c===l.NONE&&L(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(h.theta+=v.theta*n.dampingFactor,h.phi+=v.phi*n.dampingFactor):(h.theta+=v.theta,h.phi+=v.phi);let M=n.minAzimuthAngle,_=n.maxAzimuthAngle;isFinite(M)&&isFinite(_)&&(M<-Math.PI?M+=w:M>Math.PI&&(M-=w),_<-Math.PI?_+=w:_>Math.PI&&(_-=w),M<=_?h.theta=Math.max(M,Math.min(_,h.theta)):h.theta=h.theta>(M+_)/2?Math.max(M,h.theta):Math.min(_,h.theta)),h.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,h.phi)),h.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(b,n.dampingFactor):n.target.add(b),n.zoomToCursor&&R||n.object.isOrthographicCamera?h.radius=H(h.radius):h.radius=H(h.radius*g),t.setFromSpherical(h),t.applyQuaternion(s),E.copy(n.target).add(t),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(v.theta*=1-n.dampingFactor,v.phi*=1-n.dampingFactor,b.multiplyScalar(1-n.dampingFactor)):(v.set(0,0,0),b.set(0,0,0));let C=!1;if(n.zoomToCursor&&R){let r=null;if(n.object instanceof a.PerspectiveCamera&&n.object.isPerspectiveCamera){let e=t.length();r=H(e*g);let o=e-r;n.object.position.addScaledVector(T,o),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){let e=new a.Vector3(S.x,S.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix(),C=!0;let o=new a.Vector3(S.x,S.y,0);o.unproject(n.object),n.object.position.sub(o).add(e),n.object.updateMatrixWorld(),r=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==r&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(r).add(n.object.position):(u.origin.copy(n.object.position),u.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(u.direction))<f?e.lookAt(n.target):(d.setFromNormalAndCoplanarPoint(n.object.up,n.target),u.intersectPlane(d,n.target))))}else n.object instanceof a.OrthographicCamera&&n.object.isOrthographicCamera&&(C=1!==g)&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix());return g=1,R=!1,!!(C||p.distanceToSquared(n.object.position)>m||8*(1-y.dot(n.object.quaternion))>m)&&(n.dispatchEvent(r),p.copy(n.object.position),y.copy(n.object.quaternion),C=!1,!0)}})(),this.connect=e=>{e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",er),n.domElement.addEventListener("pointerdown",Q),n.domElement.addEventListener("pointercancel",ee),n.domElement.addEventListener("wheel",et)},this.dispose=()=>{var e,t,r,o,i,a;null==(e=n.domElement)||e.removeEventListener("contextmenu",er),null==(t=n.domElement)||t.removeEventListener("pointerdown",Q),null==(r=n.domElement)||r.removeEventListener("pointercancel",ee),null==(o=n.domElement)||o.removeEventListener("wheel",et),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointermove",J),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointerup",$),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",en)};let n=this,r={type:"change"},o={type:"start"},i={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=l.NONE,m=1e-6,h=new a.Spherical,v=new a.Spherical,g=1,b=new a.Vector3,y=new a.Vector2,w=new a.Vector2,E=new a.Vector2,M=new a.Vector2,_=new a.Vector2,C=new a.Vector2,P=new a.Vector2,x=new a.Vector2,O=new a.Vector2,T=new a.Vector3,S=new a.Vector2,R=!1,j=[],k={};function A(){return Math.pow(.95,n.zoomSpeed)}function L(e){n.reverseOrbit||n.reverseHorizontalOrbit?v.theta+=e:v.theta-=e}function D(e){n.reverseOrbit||n.reverseVerticalOrbit?v.phi+=e:v.phi-=e}let I=(()=>{let e=new a.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),b.add(e)}})(),z=(()=>{let e=new a.Vector3;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),b.add(e)}})(),F=(()=>{let e=new a.Vector3;return function(t,r){let o=n.domElement;if(o&&n.object instanceof a.PerspectiveCamera&&n.object.isPerspectiveCamera){let i=n.object.position;e.copy(i).sub(n.target);let a=e.length();I(2*t*(a*=Math.tan(n.object.fov/2*Math.PI/180))/o.clientHeight,n.object.matrix),z(2*r*a/o.clientHeight,n.object.matrix)}else o&&n.object instanceof a.OrthographicCamera&&n.object.isOrthographicCamera?(I(t*(n.object.right-n.object.left)/n.object.zoom/o.clientWidth,n.object.matrix),z(r*(n.object.top-n.object.bottom)/n.object.zoom/o.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Z(e){n.object instanceof a.PerspectiveCamera&&n.object.isPerspectiveCamera||n.object instanceof a.OrthographicCamera&&n.object.isOrthographicCamera?g/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function N(e){n.object instanceof a.PerspectiveCamera&&n.object.isPerspectiveCamera||n.object instanceof a.OrthographicCamera&&n.object.isOrthographicCamera?g*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function V(e){if(!n.zoomToCursor||!n.domElement)return;R=!0;let t=n.domElement.getBoundingClientRect(),r=e.clientX-t.left,o=e.clientY-t.top,i=t.width,a=t.height;S.x=r/i*2-1,S.y=-(o/a*2)+1,T.set(S.x,S.y,1).unproject(n.object).sub(n.object.position).normalize()}function H(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function W(e){y.set(e.clientX,e.clientY)}function U(e){M.set(e.clientX,e.clientY)}function Y(){if(1==j.length)y.set(j[0].pageX,j[0].pageY);else{let e=.5*(j[0].pageX+j[1].pageX),t=.5*(j[0].pageY+j[1].pageY);y.set(e,t)}}function K(){if(1==j.length)M.set(j[0].pageX,j[0].pageY);else{let e=.5*(j[0].pageX+j[1].pageX),t=.5*(j[0].pageY+j[1].pageY);M.set(e,t)}}function B(){let e=j[0].pageX-j[1].pageX,t=j[0].pageY-j[1].pageY;P.set(0,Math.sqrt(e*e+t*t))}function X(e){if(1==j.length)w.set(e.pageX,e.pageY);else{let t=ea(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);w.set(n,r)}E.subVectors(w,y).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(L(2*Math.PI*E.x/t.clientHeight),D(2*Math.PI*E.y/t.clientHeight)),y.copy(w)}function q(e){if(1==j.length)_.set(e.pageX,e.pageY);else{let t=ea(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);_.set(n,r)}C.subVectors(_,M).multiplyScalar(n.panSpeed),F(C.x,C.y),M.copy(_)}function G(e){let t=ea(e),r=e.pageX-t.x,o=e.pageY-t.y;x.set(0,Math.sqrt(r*r+o*o)),O.set(0,Math.pow(x.y/P.y,n.zoomSpeed)),Z(O.y),P.copy(x)}function Q(e){var t,r;!1!==n.enabled&&(0===j.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",J),null==(r=n.domElement)||r.ownerDocument.addEventListener("pointerup",$)),j.push(e),"touch"===e.pointerType?function(e){switch(ei(e),j.length){case 1:switch(n.touches.ONE){case a.TOUCH.ROTATE:if(!1===n.enableRotate)return;Y(),c=l.TOUCH_ROTATE;break;case a.TOUCH.PAN:if(!1===n.enablePan)return;K(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(n.touches.TWO){case a.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&B(),n.enablePan&&K(),c=l.TOUCH_DOLLY_PAN;break;case a.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&B(),n.enableRotate&&Y(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(o)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case a.MOUSE.DOLLY:if(!1===n.enableZoom)return;V(e),P.set(e.clientX,e.clientY),c=l.DOLLY;break;case a.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;U(e),c=l.PAN}else{if(!1===n.enableRotate)return;W(e),c=l.ROTATE}break;case a.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;W(e),c=l.ROTATE}else{if(!1===n.enablePan)return;U(e),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(o)}(e))}function J(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(ei(e),c){case l.TOUCH_ROTATE:if(!1===n.enableRotate)return;X(e),n.update();break;case l.TOUCH_PAN:if(!1===n.enablePan)return;q(e),n.update();break;case l.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&G(e),n.enablePan&&q(e),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&G(e),n.enableRotate&&X(e),n.update();break;default:c=l.NONE}}(e):function(e){if(!1!==n.enabled)switch(c){case l.ROTATE:if(!1===n.enableRotate)return;!function(e){w.set(e.clientX,e.clientY),E.subVectors(w,y).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(L(2*Math.PI*E.x/t.clientHeight),D(2*Math.PI*E.y/t.clientHeight)),y.copy(w),n.update()}(e);break;case l.DOLLY:if(!1===n.enableZoom)return;x.set(e.clientX,e.clientY),O.subVectors(x,P),O.y>0?Z(A()):O.y<0&&N(A()),P.copy(x),n.update();break;case l.PAN:if(!1===n.enablePan)return;_.set(e.clientX,e.clientY),C.subVectors(_,M).multiplyScalar(n.panSpeed),F(C.x,C.y),M.copy(_),n.update()}}(e))}function $(e){var t,r,o;eo(e),0===j.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",J),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointerup",$)),n.dispatchEvent(i),c=l.NONE}function ee(e){eo(e)}function et(e){!1!==n.enabled&&!1!==n.enableZoom&&(c===l.NONE||c===l.ROTATE)&&(e.preventDefault(),n.dispatchEvent(o),V(e),e.deltaY<0?N(A()):e.deltaY>0&&Z(A()),n.update(),n.dispatchEvent(i))}function en(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:F(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:F(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:F(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:F(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function er(e){!1!==n.enabled&&e.preventDefault()}function eo(e){delete k[e.pointerId];for(let t=0;t<j.length;t++)if(j[t].pointerId==e.pointerId){j.splice(t,1);return}}function ei(e){let t=k[e.pointerId];void 0===t&&(t=new a.Vector2,k[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ea(e){return k[(e.pointerId===j[0].pointerId?j[1]:j[0]).pointerId]}void 0!==t&&this.connect(t),this.update()}}let h=i.forwardRef((e,t)=>{let{makeDefault:n,camera:a,regress:l,domElement:c,enableDamping:s=!0,keyEvents:u=!1,onChange:d,onStart:f,onEnd:p,...h}=e,v=(0,o.A)(e=>e.invalidate),g=(0,o.A)(e=>e.camera),b=(0,o.A)(e=>e.gl),y=(0,o.A)(e=>e.events),w=(0,o.A)(e=>e.setEvents),E=(0,o.A)(e=>e.set),M=(0,o.A)(e=>e.get),_=(0,o.A)(e=>e.performance),C=a||g,P=c||y.connected||b.domElement,x=i.useMemo(()=>new m(C),[C]);return(0,o.C)(()=>{x.enabled&&x.update()},-1),i.useEffect(()=>(u&&x.connect(!0===u?P:u),x.connect(P),()=>void x.dispose()),[u,P,l,x,v]),i.useEffect(()=>{let e=e=>{v(),l&&_.regress(),d&&d(e)},t=e=>{f&&f(e)},n=e=>{p&&p(e)};return x.addEventListener("change",e),x.addEventListener("start",t),x.addEventListener("end",n),()=>{x.removeEventListener("start",t),x.removeEventListener("end",n),x.removeEventListener("change",e)}},[d,f,p,x,v,w]),i.useEffect(()=>{if(n){let e=M().controls;return E({controls:x}),()=>E({controls:e})}},[n,x]),i.createElement("primitive",(0,r.Z)({ref:t,object:x,enableDamping:s},h))})},2311:function(e,t,n){n.d(t,{JO:function(){return c},aL:function(){return l},xu:function(){return a}});var r=n(2110),o=n(4090);function i(e,t){let n=e+"Geometry";return o.forwardRef((e,i)=>{let{args:a,children:l,...c}=e,s=o.useRef(null);return o.useImperativeHandle(i,()=>s.current),o.useLayoutEffect(()=>void(null==t||t(s.current))),o.createElement("mesh",(0,r.Z)({ref:s},c),o.createElement(n,{attach:"geometry",args:a}),l)})}let a=i("box"),l=i("sphere"),c=i("plane")},6959:function(e,t,n){n.d(t,{V:function(){return y}});var r,o,i=n(2110),a=n(4090),l=n(7600),c=n(6376),s=n(6602);let u=new c.Vector3,d=new c.Vector3,f=new c.Vector3,p=new c.Vector2;function m(e,t,n){let r=u.setFromMatrixPosition(e.matrixWorld);r.project(t);let o=n.width/2,i=n.height/2;return[r.x*o+o,-(r.y*i)+i]}let h=e=>1e-10>Math.abs(e)?0:e;function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(";for(let n=0;16!==n;n++)r+=h(t[n]*e.elements[n])+(15!==n?",":")");return n+r}let g=(r=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>v(e,r)),b=(o=e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1],(e,t)=>v(e,o(t),"translate(-50%,-50%)")),y=a.forwardRef((e,t)=>{let{children:n,eps:r=.001,style:o,className:v,prepend:y,center:w,fullscreen:E,portal:M,distanceFactor:_,sprite:C=!1,transform:P=!1,occlude:x,onOcclude:O,castShadow:T,receiveShadow:S,material:R,geometry:j,zIndexRange:k=[16777271,0],calculatePosition:A=m,as:L="div",wrapperClass:D,pointerEvents:I="auto",...z}=e,{gl:F,camera:Z,scene:N,size:V,raycaster:H,events:W,viewport:U}=(0,s.A)(),[Y]=a.useState(()=>document.createElement(L)),K=a.useRef(),B=a.useRef(null),X=a.useRef(0),q=a.useRef([0,0]),G=a.useRef(null),Q=a.useRef(null),J=(null==M?void 0:M.current)||W.connected||F.domElement.parentNode,$=a.useRef(null),ee=a.useRef(!1),et=a.useMemo(()=>{var e;return x&&"blending"!==x||Array.isArray(x)&&x.length&&(e=x[0])&&"object"==typeof e&&"current"in e},[x]);a.useLayoutEffect(()=>{let e=F.domElement;x&&"blending"===x?(e.style.zIndex="".concat(Math.floor(k[0]/2)),e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[x]),a.useLayoutEffect(()=>{if(B.current){let e=K.current=l.createRoot(Y);if(N.updateMatrixWorld(),P)Y.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=A(B.current,Z,V);Y.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(e[0],"px,").concat(e[1],"px,0);transform-origin:0 0;")}return J&&(y?J.prepend(Y):J.appendChild(Y)),()=>{J&&J.removeChild(Y),e.unmount()}}},[J,P]),a.useLayoutEffect(()=>{D&&(Y.className=D)},[D]);let en=a.useMemo(()=>P?{position:"absolute",top:0,left:0,width:V.width,height:V.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:w?"translate3d(-50%,-50%,0)":"none",...E&&{top:-V.height/2,left:-V.width/2,width:V.width,height:V.height},...o},[o,w,E,V,P]),er=a.useMemo(()=>({position:"absolute",pointerEvents:I}),[I]);a.useLayoutEffect(()=>{var e,r;ee.current=!1,P?null==(e=K.current)||e.render(a.createElement("div",{ref:G,style:en},a.createElement("div",{ref:Q,style:er},a.createElement("div",{ref:t,className:v,style:o,children:n})))):null==(r=K.current)||r.render(a.createElement("div",{ref:t,style:en,className:v,children:n}))});let eo=a.useRef(!0);(0,s.C)(e=>{if(B.current){Z.updateMatrixWorld(),B.current.updateWorldMatrix(!0,!1);let e=P?q.current:A(B.current,Z,V);if(P||Math.abs(X.current-Z.zoom)>r||Math.abs(q.current[0]-e[0])>r||Math.abs(q.current[1]-e[1])>r){let t=function(e,t){let n=u.setFromMatrixPosition(e.matrixWorld),r=d.setFromMatrixPosition(t.matrixWorld),o=n.sub(r),i=t.getWorldDirection(f);return o.angleTo(i)>Math.PI/2}(B.current,Z),n=!1;et&&(Array.isArray(x)?n=x.map(e=>e.current):"blending"!==x&&(n=[N]));let r=eo.current;if(n){let e=function(e,t,n,r){let o=u.setFromMatrixPosition(e.matrixWorld),i=o.clone();i.project(t),p.set(i.x,i.y),n.setFromCamera(p,t);let a=n.intersectObjects(r,!0);if(a.length){let e=a[0].distance;return o.distanceTo(n.ray.origin)<e}return!0}(B.current,Z,H,n);eo.current=e&&!t}else eo.current=!t;r!==eo.current&&(O?O(!eo.current):Y.style.display=eo.current?"block":"none");let o=Math.floor(k[0]/2),i=x?et?[k[0],o]:[o-1,0]:k;if(Y.style.zIndex="".concat(function(e,t,n){if(t instanceof c.PerspectiveCamera||t instanceof c.OrthographicCamera){let r=u.setFromMatrixPosition(e.matrixWorld),o=d.setFromMatrixPosition(t.matrixWorld),i=r.distanceTo(o),a=(n[1]-n[0])/(t.far-t.near),l=n[1]-a*t.far;return Math.round(a*i+l)}}(B.current,Z,i)),P){let[e,t]=[V.width/2,V.height/2],n=Z.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:o,left:i,bottom:a,right:l}=Z,c=g(Z.matrixWorldInverse),s=r?"scale(".concat(n,")translate(").concat(h(-(l+i)/2),"px,").concat(h((o+a)/2),"px)"):"translateZ(".concat(n,"px)"),u=B.current.matrixWorld;C&&((u=Z.matrixWorldInverse.clone().transpose().copyPosition(u).scale(B.current.scale)).elements[3]=u.elements[7]=u.elements[11]=0,u.elements[15]=1),Y.style.width=V.width+"px",Y.style.height=V.height+"px",Y.style.perspective=r?"":"".concat(n,"px"),G.current&&Q.current&&(G.current.style.transform="".concat(s).concat(c,"translate(").concat(e,"px,").concat(t,"px)"),Q.current.style.transform=b(u,1/((_||10)/400)))}else{let t=void 0===_?1:function(e,t){if(t instanceof c.OrthographicCamera)return t.zoom;if(!(t instanceof c.PerspectiveCamera))return 1;{let n=u.setFromMatrixPosition(e.matrixWorld),r=d.setFromMatrixPosition(t.matrixWorld);return 1/(2*Math.tan(t.fov*Math.PI/180/2)*n.distanceTo(r))}}(B.current,Z)*_;Y.style.transform="translate3d(".concat(e[0],"px,").concat(e[1],"px,0) scale(").concat(t,")")}q.current=e,X.current=Z.zoom}}if(!et&&$.current&&!ee.current){if(P){if(G.current){let e=G.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=Z;if(t||j)z.scale&&(Array.isArray(z.scale)?z.scale instanceof c.Vector3?$.current.scale.copy(z.scale.clone().divideScalar(1)):$.current.scale.set(1/z.scale[0],1/z.scale[1],1/z.scale[2]):$.current.scale.setScalar(1/z.scale));else{let t=(_||10)/400,n=e.clientWidth*t,r=e.clientHeight*t;$.current.scale.set(n,r,1)}ee.current=!0}}}else{let t=Y.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/U.factor,n=t.clientWidth*e,r=t.clientHeight*e;$.current.scale.set(n,r,1),ee.current=!0}$.current.lookAt(e.camera.position)}}});let ei=a.useMemo(()=>({vertexShader:P?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom"\n            is false.\n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n\n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "}),[P]);return a.createElement("group",(0,i.Z)({},z,{ref:B}),x&&!et&&a.createElement("mesh",{castShadow:T,receiveShadow:S,ref:$},j||a.createElement("planeGeometry",null),R||a.createElement("shaderMaterial",{side:c.DoubleSide,vertexShader:ei.vertexShader,fragmentShader:ei.fragmentShader})))})},6602:function(e,t,n){let r,o,i;n.d(t,{A:function(){return es},B:function(){return j},C:function(){return eu},E:function(){return k},a:function(){return S},b:function(){return eE},c:function(){return J},d:function(){return e_},e:function(){return C},i:function(){return T},u:function(){return R}});var a,l,c=n(6376),s=n(4090),u=n(7777);let d=!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?s.useEffect:s.useLayoutEffect;var f=n(4812),p=n.n(f),m=n(9514);let h=e=>"object"==typeof e&&"function"==typeof e.then,v=[];function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;let r=e.length;if(t.length!==r)return!1;for(let o=0;o<r;o++)if(!n(e[o],t[o]))return!1;return!0}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(let o of(null===t&&(t=[e]),v))if(g(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}let o={keys:t,equal:r.equal,remove:()=>{let e=v.indexOf(o);-1!==e&&v.splice(e,1)},promise:(h(e)?e:e(...t)).then(e=>{o.response=e,r.lifespan&&r.lifespan>0&&(o.timeout=setTimeout(o.remove,r.lifespan))}).catch(e=>o.error=e)};if(v.push(o),!n)throw o.promise}let y=(e,t,n)=>b(e,t,!1,n),w=(e,t,n)=>void b(e,t,!0,n),E=e=>{if(void 0===e||0===e.length)v.splice(0,v.length);else{let t=v.find(t=>g(e,t.keys,t.equal));t&&t.remove()}};var M=n(9079);let _={},C=e=>void Object.assign(_,e),P=e=>"colorSpace"in e||"outputColorSpace"in e,x=()=>{var e;return null!=(e=_.ColorManagement)?e:null},O=e=>e&&e.isOrthographicCamera,T=e=>e&&e.hasOwnProperty("current"),S=null!=(a=window.document)&&a.createElement||(null==(l=window.navigator)?void 0:l.product)==="ReactNative"?s.useLayoutEffect:s.useEffect;function R(e){let t=s.useRef(e);return S(()=>void(t.current=e),[e]),t}function j(e){let{set:t}=e;return S(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class k extends s.Component{componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}constructor(...e){super(...e),this.state={error:!1}}}k.getDerivedStateFromError=()=>({error:!0});let A="__default",L=new Map,D=e=>e&&!!e.memoized&&!!e.changes;function I(e){var t;let n=null!=(t=window.devicePixelRatio)?t:2;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}let z=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function F(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}let Z={obj:e=>e===Object(e)&&!Z.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let n,{arrays:r="shallow",objects:o="reference",strict:i=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!=typeof t||!!e!=!!t)return!1;if(Z.str(e)||Z.num(e))return e===t;let a=Z.obj(e);if(a&&"reference"===o)return e===t;let l=Z.arr(e);if(l&&"reference"===r)return e===t;if((l||a)&&e===t)return!0;for(n in e)if(!(n in t))return!1;if(a&&"shallow"===r&&"shallow"===o){for(n in i?t:e)if(!Z.equ(e[n],t[n],{strict:i,objects:"reference"}))return!1}else for(n in i?t:e)if(e[n]!==t[n])return!1;if(Z.und(n)){if(l&&0===e.length&&0===t.length||a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function N(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function V(e,t){let n=e;if(!t.includes("-"))return{target:n,key:t};{let r=t.split("-"),o=r.pop();return{target:n=r.reduce((e,t)=>e[t],e),key:o}}}let H=/-\d+$/;function W(e,t,n){if(Z.str(n)){if(H.test(n)){let{target:t,key:r}=V(e,n.replace(H,""));Array.isArray(t[r])||(t[r]=[])}let{target:r,key:o}=V(e,n);t.__r3f.previousAttach=r[o],r[o]=t}else t.__r3f.previousAttach=n(e,t)}function U(e,t,n){var r,o;if(Z.str(n)){let{target:r,key:o}=V(e,n),i=t.__r3f.previousAttach;void 0===i?delete r[o]:r[o]=i}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(o=t.__r3f)||delete o.previousAttach}function Y(e,t){var n;let{children:r,key:o,ref:i,...a}=t,{children:l,key:c,ref:s,...u}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=null!=(n=null==e?void 0:e.__r3f)?n:{},p=Object.entries(a),m=[];if(d){let e=Object.keys(u);for(let t=0;t<e.length;t++)a.hasOwnProperty(e[t])||p.unshift([e[t],A+"remove"])}p.forEach(t=>{var n;let[r,o]=t;if(null!=(n=e.__r3f)&&n.primitive&&"object"===r||Z.equ(o,u[r]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(r))return m.push([r,o,!0,[]]);let i=[];for(let e in r.includes("-")&&(i=r.split("-")),m.push([r,o,!1,i]),a){let t=a[e];e.startsWith("".concat(r,"-"))&&m.push([e,t,!1,e.split("-")])}});let h={...a};return f.memoizedProps&&f.memoizedProps.args&&(h.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(h.attach=f.memoizedProps.attach),{memoized:h,changes:m}}let K=void 0!==M&&!1;function B(e,t){var n,r,o;let i=null!=(n=e.__r3f)?n:{},a=i.root,l=null!=(r=null==a?void 0:null==a.getState?void 0:a.getState())?r:{},{memoized:s,changes:u}=D(t)?t:Y(e,t),d=i.eventCount;e.__r3f&&(e.__r3f.memoizedProps=s);for(let t=0;t<u.length;t++){let[n,r,o,a]=u[t];if(P(e)){let e="srgb",t="srgb-linear";"encoding"===n?(n="colorSpace",r=3001===r?e:t):"outputEncoding"===n&&(n="outputColorSpace",r=3001===r?e:t)}let s=e,d=s[n];if(a.length&&!((d=a.reduce((e,t)=>e[t],e))&&d.set)){let[t,...r]=a.reverse();s=r.reverse().reduce((e,t)=>e[t],e),n=t}if(r===A+"remove"){if(s.constructor){let e=L.get(s.constructor);e||(e=new s.constructor,L.set(s.constructor,e)),r=e[n]}else r=0}if(o)r?i.handlers[n]=r:delete i.handlers[n],i.eventCount=Object.keys(i.handlers).length;else if(d&&d.set&&(d.copy||d instanceof c.Layers)){if(Array.isArray(r))d.fromArray?d.fromArray(r):d.set(...r);else if(d.copy&&r&&r.constructor&&(K?d.constructor.name===r.constructor.name:d.constructor===r.constructor))d.copy(r);else if(void 0!==r){let e=d instanceof c.Color;!e&&d.setScalar?d.setScalar(r):d instanceof c.Layers&&r instanceof c.Layers?d.mask=r.mask:d.set(r),x()||l.linear||!e||d.convertSRGBToLinear()}}else if(s[n]=r,s[n]instanceof c.Texture&&s[n].format===c.RGBAFormat&&s[n].type===c.UnsignedByteType){let e=s[n];P(e)&&P(l.gl)?e.colorSpace=l.gl.outputColorSpace:e.encoding=l.gl.outputEncoding}X(e)}if(i.parent&&e.raycast&&d!==i.eventCount){let t=F(e).getState().internal,n=t.interaction.indexOf(e);n>-1&&t.interaction.splice(n,1),i.eventCount&&t.interaction.push(e)}return!(1===u.length&&"onUpdate"===u[0][0])&&u.length&&null!=(o=e.__r3f)&&o.parent&&q(e),e}function X(e){var t,n;let r=null==(t=e.__r3f)?void 0:null==(n=t.root)?void 0:null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function q(e){null==e.onUpdate||e.onUpdate(e)}function G(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Q(e,t,n,r){let o=n.get(t);o&&(n.delete(t),0===n.size&&(e.delete(r),o.target.releasePointerCapture(r)))}function J(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){let{internal:n}=e.getState();for(let e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let r=e.eventObject.__r3f,o=null==r?void 0:r.handlers;if(n.hovered.delete(G(e)),null!=r&&r.eventCount){let n={...e,intersections:t};null==o.onPointerOut||o.onPointerOut(n),null==o.onPointerLeave||o.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){let r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(o){switch(o){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{let{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))})}}return function(i){let{onPointerMissed:a,internal:l}=e.getState();l.lastEvent.current=i;let s="onPointerMove"===o,u="onClick"===o||"onContextMenu"===o||"onDoubleClick"===o,d=function(t,n){let r=e.getState(),o=new Set,i=[],a=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<a.length;e++){let t=z(a[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let l=a.flatMap(function(e){let n=z(e);if(!n||!n.events.enabled||null===n.raycaster.camera)return[];if(void 0===n.raycaster.camera){var r;null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)}return n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]}).sort((e,t)=>{let n=z(e.object),r=z(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{let t=G(e);return!o.has(t)&&(o.add(t),!0)});for(let e of(r.events.filter&&(l=r.events.filter(l,r)),l)){let t=e.object;for(;t;){var c;null!=(c=t.__r3f)&&c.eventCount&&i.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())o.has(G(e.intersection))||i.push(e.intersection);return i}(i,s?t:void 0),f=u?function(t){let{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],o=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+o*o))}(i):0;"onPointerDown"===o&&(l.initialClick=[i.offsetX,i.offsetY],l.initialHits=d.map(e=>e.eventObject)),u&&!d.length&&f<=2&&(r(i,l.interaction),a&&a(i)),s&&n(d),function(t,r,o,i){let a=e.getState();if(t.length){let e={stopped:!1};for(let l of t){let{raycaster:s,pointer:u,camera:d,internal:f}=z(l.object)||a,p=new c.Vector3(u.x,u.y,0).unproject(d),m=e=>{var t,n;return null!=(t=null==(n=f.capturedMap.get(e))?void 0:n.has(l.eventObject))&&t},h=e=>{let t={intersection:l,target:r.target};f.capturedMap.has(e)?f.capturedMap.get(e).set(l.eventObject,t):f.capturedMap.set(e,new Map([[l.eventObject,t]])),r.target.setPointerCapture(e)},v=e=>{let t=f.capturedMap.get(e);t&&Q(f.capturedMap,l.eventObject,t,e)},g={};for(let e in r){let t=r[e];"function"!=typeof t&&(g[e]=t)}let b={...l,...g,pointer:u,intersections:t,stopped:e.stopped,delta:o,unprojectedPoint:p,ray:s.ray,camera:d,stopPropagation(){let o="pointerId"in r&&f.capturedMap.get(r.pointerId);(!o||o.has(l.eventObject))&&(b.stopped=e.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find(e=>e.eventObject===l.eventObject)&&n([...t.slice(0,t.indexOf(l)),l]))},target:{hasPointerCapture:m,setPointerCapture:h,releasePointerCapture:v},currentTarget:{hasPointerCapture:m,setPointerCapture:h,releasePointerCapture:v},nativeEvent:r};if(i(b),!0===e.stopped)break}}}(d,i,f,function(e){let t=e.eventObject,n=t.__r3f,a=null==n?void 0:n.handlers;if(null!=n&&n.eventCount){if(s){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){let t=G(e),n=l.hovered.get(t);n?n.stopped&&e.stopPropagation():(l.hovered.set(t,e),null==a.onPointerOver||a.onPointerOver(e),null==a.onPointerEnter||a.onPointerEnter(e))}null==a.onPointerMove||a.onPointerMove(e)}else{let n=a[o];n?(!u||l.initialHits.includes(t))&&(r(i,l.interaction.filter(e=>!l.initialHits.includes(e))),n(e)):u&&l.initialHits.includes(t)&&r(i,l.interaction.filter(e=>!l.initialHits.includes(e)))}}})}}}}let $=e=>!!(null!=e&&e.render),ee=s.createContext(null),et=(e,t)=>{let n=function(e){let t="function"==typeof e?function(e){let t;let n=new Set,r=(e,r)=>{let o="function"==typeof e?e(t):e;if(o!==t){let e=t;t=r?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=r(t);function l(){let n=r(t);if(!i(a,n)){let t=a;e(a=n,t)}}return n.add(l),()=>n.delete(l)},a={setState:r,getState:o,subscribe:(e,t,r)=>t||r?i(e,t,r):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,o,a),a}(e):e,n=function(){let e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,[,o]=(0,s.useReducer)(e=>e+1,0),i=t.getState(),a=(0,s.useRef)(i),l=(0,s.useRef)(n),c=(0,s.useRef)(r),u=(0,s.useRef)(!1),f=(0,s.useRef)();void 0===f.current&&(f.current=n(i));let p=!1;(a.current!==i||l.current!==n||c.current!==r||u.current)&&(e=n(i),p=!r(f.current,e)),d(()=>{p&&(f.current=e),a.current=i,l.current=n,c.current=r,u.current=!1});let m=(0,s.useRef)(i);d(()=>{let e=()=>{try{let e=t.getState(),n=l.current(e);c.current(f.current,n)||(a.current=e,f.current=n,o())}catch(e){u.current=!0,o()}},n=t.subscribe(e);return t.getState()!==m.current&&e(),n},[]);let h=p?e:f.current;return(0,s.useDebugValue)(h),h};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[n,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},n}((n,r)=>{let o;let i=new c.Vector3,a=new c.Vector3,l=new c.Vector3;function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r().size,{width:o,height:s,top:u,left:d}=n,f=o/s;t instanceof c.Vector3?l.copy(t):l.set(...t);let p=e.getWorldPosition(i).distanceTo(l);if(O(e))return{width:o/e.zoom,height:s/e.zoom,top:u,left:d,factor:1,distance:p,aspect:f};{let t=2*Math.tan(e.fov*Math.PI/180/2)*p,n=o/s*t;return{width:n,height:t,top:u,left:d,factor:o/n,distance:p,aspect:f}}}let d=e=>n(t=>({performance:{...t.performance,current:e}})),f=new c.Vector2;return{set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(r(),t)},advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new c.Clock,pointer:f,mouse:f,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=r();o&&clearTimeout(o),e.performance.current!==e.performance.min&&d(e.performance.min),o=setTimeout(()=>d(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:e=>n(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,o,i,l)=>{let c=r().camera,s={width:e,height:t,top:i||0,left:l||0,updateStyle:o};n(e=>({size:s,viewport:{...e.viewport,...u(c,a,s)}}))},setDpr:e=>n(t=>{let n=I(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}}),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:s.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{let o=r().internal;return o.priority=o.priority+(t>0?1:0),o.subscribers.push({ref:e,priority:t,store:n}),o.subscribers=o.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}}}),r=n.getState(),o=r.size,i=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{let{camera:e,size:t,viewport:r,gl:l,set:c}=n.getState();if(t.width!==o.width||t.height!==o.height||r.dpr!==i){var s;o=t,i=r.dpr,e.manual||(O(e)?(e.left=-(t.width/2),e.right=t.width/2,e.top=t.height/2,e.bottom=-(t.height/2)):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld()),l.setPixelRatio(r.dpr);let n=null!=(s=t.updateStyle)?s:"undefined"!=typeof HTMLCanvasElement&&l.domElement instanceof HTMLCanvasElement;l.setSize(t.width,t.height,n)}e!==a&&(a=e,c(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),n.subscribe(t=>e(t)),n},en=new Set,er=new Set,eo=new Set;function ei(e,t){if(e.size)for(let{callback:n}of e.values())n(t)}function ea(e,t){switch(e){case"before":return ei(en,t);case"after":return ei(er,t);case"tail":return ei(eo,t)}}function el(e,t,n){let a=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(a=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),o=t.internal.subscribers,r=0;r<o.length;r++)(i=o[r]).ref.current(i.store.getState(),a,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function ec(){let e=s.useContext(ee);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return ec()(e,t)}function eu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ec(),r=n.getState().internal.subscribe,o=R(e);return S(()=>r(o,t,n),[t,r,n]),null}let ed=new WeakMap;function ef(e,t){return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];let a=ed.get(n);return a||(a=new n,ed.set(n,a)),e&&e(a),Promise.all(o.map(e=>new Promise((n,r)=>a.load(e,e=>{e.scene&&Object.assign(e,function(e){let t={nodes:{},materials:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}(e.scene)),n(e)},t,t=>r(Error("Could not load ".concat(e,": ").concat(null==t?void 0:t.message)))))))}}function ep(e,t,n,r){let o=Array.isArray(t)?t:[t],i=y(ef(n,r),[e,...o],{equal:Z.equ});return Array.isArray(t)?i:i[0]}ep.preload=function(e,t,n){let r=Array.isArray(t)?t:[t];return w(ef(n),[e,...r])},ep.clear=function(e,t){return E([e,...Array.isArray(t)?t:[t]])};let em=new Map,{invalidate:eh,advance:ev}=function(e){let t,n,r,o=!1,i=!1;function a(l){for(let s of(n=requestAnimationFrame(a),o=!0,t=0,ea("before",l),i=!0,e.values())){var c;(r=s.store.getState()).internal.active&&("always"===r.frameloop||r.internal.frames>0)&&!(null!=(c=r.gl.xr)&&c.isPresenting)&&(t+=el(l,r))}if(i=!1,ea("after",l),0===t)return ea("tail",l),o=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach(e=>t(e.store.getState(),l));null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(l>1?n.internal.frames=Math.min(60,n.internal.frames+l):i?n.internal.frames=2:n.internal.frames=1,o||(o=!0,requestAnimationFrame(a)))},advance:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(n&&ea("before",t),r)el(t,r,o);else for(let n of e.values())el(t,n.store.getState());n&&ea("after",t)}}}(em),{reconciler:eg,applyProps:eb}=function(e,t){function n(e,t,n){let r,{args:o=[],attach:i,...a}=t,l="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===a.object)throw Error("R3F: Primitives without 'object' are invalid!");r=N(a.object,{type:e,root:n,attach:i,primitive:!0})}else{let t=_[l];if(!t)throw Error("R3F: ".concat(l," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(o))throw Error("R3F: The args prop must be an array!");r=N(new t(...o),{type:e,root:n,attach:i,memoizedProps:{args:o}})}return void 0===r.__r3f.attach&&(r instanceof c.BufferGeometry?r.__r3f.attach="geometry":r instanceof c.Material&&(r.__r3f.attach="material")),"inject"!==l&&B(r,a),r}function r(e,t){let n=!1;if(t){var r,o;null!=(r=t.__r3f)&&r.attach?W(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(o=e.__r3f)||o.objects.push(t),t.__r3f||N(t,{}),t.__r3f.parent=e,q(t),X(t)}}function o(e,t,n){let r=!1;if(t){var o,i;if(null!=(o=t.__r3f)&&o.attach)W(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});let o=e.children.filter(e=>e!==t),i=o.indexOf(n);e.children=[...o.slice(0,i),t,...o.slice(i)],r=!0}r||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||N(t,{}),t.__r3f.parent=e,q(t),X(t)}}function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach(e=>a(t,e,n))}function a(e,t,n){if(t){var r,o,a,l,c;t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter(e=>e!==t)),null!=(o=t.__r3f)&&o.attach?U(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.remove(t),null!=(l=t.__r3f)&&l.root&&function(e,t){let{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{(e.eventObject===t||e.object===t)&&n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{Q(n.capturedMap,t,e,r)})}(F(t),t));let s=null==(a=t.__r3f)?void 0:a.primitive,u=!s&&(void 0===n?null!==t.dispose:n);if(s||(i(null==(c=t.__r3f)?void 0:c.objects,t,u),i(t.children,t,u)),delete t.__r3f,u&&t.dispose&&"Scene"!==t.type){let e=()=>{try{t.dispose()}catch(e){}};"undefined"==typeof IS_REACT_ACT_ENVIRONMENT?(0,m.unstable_scheduleCallback)(m.unstable_IdlePriority,e):e()}X(e)}}let l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:p()({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;let n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&a(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;let r=e.getState().scene;r.__r3f&&o(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;return!!(null!=(t=null==e?void 0:e.__r3f)?t:{}).handlers},prepareUpdate(e,t,n,r){var o;if((null!=(o=null==e?void 0:e.__r3f)?o:{}).primitive&&r.object&&r.object!==e)return[!0];{let{args:t=[],children:o,...i}=r,{args:a=[],children:l,...c}=n;if(!Array.isArray(t))throw Error("R3F: the args prop must be an array!");if(t.some((e,t)=>e!==a[t]))return[!0];let s=Y(e,i,c,!0);return s.changes.length?[!1,s]:null}},commitUpdate(e,t,o,i,l,c){let[s,u]=t;s?function(e,t,o,i){var l;let c=null==(l=e.__r3f)?void 0:l.parent;if(!c)return;let s=n(t,o,e.__r3f.root);if(e.children){for(let t of e.children)t.__r3f&&r(s,t);e.children=e.children.filter(e=>!e.__r3f)}e.__r3f.objects.forEach(e=>r(s,e)),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||a(c,e),s.parent&&(s.__r3f.autoRemovedBeforeAppend=!0),r(c,s),s.raycast&&s.__r3f.eventCount&&F(s).getState().internal.interaction.push(s),[i,i.alternate].forEach(e=>{null!==e&&(e.stateNode=s,e.ref&&("function"==typeof e.ref?e.ref(s):e.ref.current=s))})}(e,o,l,c):B(e,u)},commitMount(e,t,n,r){var o;let i=null!=(o=e.__r3f)?o:{};e.raycast&&i.handlers&&i.eventCount&&F(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>N(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;let{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&U(r,e,n),e.isObject3D&&(e.visible=!1),X(e)},unhideInstance(e,t){var n;let{attach:r,parent:o}=null!=(n=e.__r3f)?n:{};r&&o&&W(o,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),X(e)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>t?t():u.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&Z.fun(performance.now)?performance.now:Z.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Z.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Z.fun(clearTimeout)?clearTimeout:void 0}),applyProps:B}}(0,function(){var e;let t="undefined"!=typeof self&&self||window;if(!t)return u.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return u.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return u.ContinuousEventPriority;default:return u.DefaultEventPriority}}),ey={objects:"shallow",strict:!1},ew=(e,t)=>{let n="function"==typeof e?e(t):e;return $(n)?n:new c.WebGLRenderer({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function eE(e){let t,n;let r=em.get(e),o=null==r?void 0:r.fiber,i=null==r?void 0:r.store;r&&console.warn("R3F.createRoot should only be called once!");let a="function"==typeof reportError?reportError:console.error,l=i||et(eh,ev),d=o||eg.createContainer(l,u.ConcurrentRoot,null,!1,null,"",a,null);r||em.set(e,{fiber:d,store:l});let f=!1;return{configure(){var r,o;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:a,size:s,scene:u,events:d,onCreated:p,shadows:m=!1,linear:h=!1,flat:v=!1,legacy:g=!1,orthographic:b=!1,frameloop:y="always",dpr:w=[1,2],performance:E,raycaster:M,camera:_,onPointerMissed:C}=i,P=l.getState(),O=P.gl;P.gl||P.set({gl:O=ew(a,e)});let T=P.raycaster;T||P.set({raycaster:T=new c.Raycaster});let{params:S,...R}=M||{};if(Z.equ(R,T,ey)||eb(T,{...R}),Z.equ(S,T.params,ey)||eb(T,{params:{...T.params,...S}}),!P.camera||P.camera===n&&!Z.equ(n,_,ey)){n=_;let e=_ instanceof c.Camera,t=e?_:b?new c.OrthographicCamera(0,0,0,0,.1,1e3):new c.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,_&&eb(t,_),P.camera||null!=_&&_.rotation||t.lookAt(0,0,0)),P.set({camera:t}),T.camera=t}if(!P.scene){let e;u instanceof c.Scene?e=u:(e=new c.Scene,u&&eb(e,u)),P.set({scene:N(e)})}if(!P.xr){let e=(e,t)=>{let n=l.getState();"never"!==n.frameloop&&ev(e,!0,n,t)},t=()=>{let t=l.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||eh(t)},n={connect(){let e=l.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=l.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(r=O.xr)?void 0:r.addEventListener)&&n.connect(),P.set({xr:n})}if(O.shadowMap){let e=O.shadowMap.enabled,t=O.shadowMap.type;if(O.shadowMap.enabled=!!m,Z.boo(m))O.shadowMap.type=c.PCFSoftShadowMap;else if(Z.str(m)){let e={basic:c.BasicShadowMap,percentage:c.PCFShadowMap,soft:c.PCFSoftShadowMap,variance:c.VSMShadowMap};O.shadowMap.type=null!=(o=e[m])?o:c.PCFSoftShadowMap}else Z.obj(m)&&Object.assign(O.shadowMap,m);(e!==O.shadowMap.enabled||t!==O.shadowMap.type)&&(O.shadowMap.needsUpdate=!0)}let j=x();j&&("enabled"in j?j.enabled=!g:"legacyMode"in j&&(j.legacyMode=g)),f||eb(O,{outputEncoding:h?3e3:3001,toneMapping:v?c.NoToneMapping:c.ACESFilmicToneMapping}),P.legacy!==g&&P.set(()=>({legacy:g})),P.linear!==h&&P.set(()=>({linear:h})),P.flat!==v&&P.set(()=>({flat:v})),!a||Z.fun(a)||$(a)||Z.equ(a,O,ey)||eb(O,a),d&&!P.events.handlers&&P.set({events:d(l)});let k=function(e,t){let n="undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){let{width:e,height:r,top:o,left:i,updateStyle:a=n}=t;return{width:e,height:r,top:o,left:i,updateStyle:a}}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:r,top:o,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:r,top:o,left:i,updateStyle:n}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,s);return Z.equ(k,P.size,ey)||P.setSize(k.width,k.height,k.updateStyle,k.top,k.left),w&&P.viewport.dpr!==I(w)&&P.setDpr(w),P.frameloop!==y&&P.setFrameloop(y),P.onPointerMissed||P.set({onPointerMissed:C}),E&&!Z.equ(E,P.performance,ey)&&P.set(e=>({performance:{...e.performance,...E}})),t=p,f=!0,this},render(n){return f||this.configure(),eg.updateContainer(s.createElement(eM,{store:l,children:n,onCreated:t,rootElement:e}),d,null,()=>void 0),l},unmount(){e_(e)}}}function eM(e){let{store:t,children:n,onCreated:r,rootElement:o}=e;return S(()=>{let e=t.getState();e.set(e=>({internal:{...e.internal,active:!0}})),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(o)},[]),s.createElement(ee.Provider,{value:t},n)}function e_(e,t){let n=em.get(e),r=null==n?void 0:n.fiber;if(r){let o=null==n?void 0:n.store.getState();o&&(o.internal.active=!1),eg.updateContainer(null,r,null,()=>{o&&setTimeout(()=>{try{var n,r,i,a;null==o.events.disconnect||o.events.disconnect(),null==(n=o.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(i=o.gl)||null==i.forceContextLoss||i.forceContextLoss(),null!=(a=o.gl)&&a.xr&&o.xr.disconnect(),function(e){for(let t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(o),em.delete(e),t&&t(e)}catch(e){}},500)})}}eg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:s.version}),s.unstable_act},9631:function(e,t,n){n.d(t,{Xz:function(){return S}});var r,o,i=n(6602),a=n(2110),l=n(4090),c=n(6376),s=n(3802),u=n.n(s);let d=["x","y","top","bottom","left","right","width","height"],f=(e,t)=>d.every(n=>e[n]===t[n]);var p=Object.defineProperty,m=Object.defineProperties,h=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&y(e,n,t[n]);if(v)for(var n of v(t))b.call(t,n)&&y(e,n,t[n]);return e},E=(e,t)=>m(e,h(t));function M(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}(null==(r=window.document)?void 0:r.createElement)||(null==(o=window.navigator)?void 0:o.product)==="ReactNative"?l.useLayoutEffect:l.useEffect;let _=console.error;console.error=function(){let e=[...arguments].join("");if((null==e?void 0:e.startsWith("Warning:"))&&e.includes("useContext")){console.error=_;return}return _.apply(this,arguments)};let C=M(l.createContext(null));class P extends l.Component{render(){return l.createElement(C.Provider,{value:this._reactInternals},this.props.children)}}n(7777),n(4812),n(9514);let x={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function O(e){let{handlePointer:t}=(0,i.c)(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-(e.offsetY/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(x).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var t;let{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;let{set:r,events:o}=e.getState();null==o.disconnect||o.disconnect(),r(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(n=o.handlers)?n:[]).forEach(e=>{let[n,r]=e,[o,i]=x[n];t.addEventListener(o,r,{passive:i})})},disconnect:()=>{let{set:t,events:n}=e.getState();if(n.connected){var r;Object.entries(null!=(r=n.handlers)?r:[]).forEach(e=>{let[t,r]=e;if(n&&n.connected instanceof HTMLElement){let[e]=x[t];n.connected.removeEventListener(e,r)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let T=l.forwardRef(function(e,t){let{children:n,fallback:r,resize:o,style:s,gl:d,events:p=O,eventSource:m,eventPrefix:h,shadows:v,linear:g,flat:b,legacy:y,orthographic:_,frameloop:x,dpr:T,performance:S,raycaster:R,camera:j,scene:k,onPointerMissed:A,onCreated:L,...D}=e;l.useMemo(()=>(0,i.e)(c),[]);let I=function(){let e=function(){let e=function(){let e=l.useContext(C);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=l.useId();return l.useMemo(()=>{for(let n of[e,null==e?void 0:e.alternate]){if(!n)continue;let e=function e(t,n,r){if(!t)return;if(!0===r(t))return t;let o=n?t.return:t.child;for(;o;){let t=e(o,n,r);if(t)return t;o=n?null:o.sibling}}(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}(),[t]=l.useState(()=>new Map);t.clear();let n=e;for(;n;){if(n.type&&"object"==typeof n.type){let e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==C&&!t.has(e)&&t.set(e,l.useContext(M(e)))}n=n.return}return t}();return l.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>l.createElement(t,null,l.createElement(n.Provider,E(w({},r),{value:e.get(n)}))),e=>l.createElement(P,w({},e))),[e])}(),[z,F]=function(e){var t;let{debounce:n,scroll:r,polyfill:o,offsetSize:i}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,a=o||window.ResizeObserver;if(!a)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,s]=(0,l.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),d=(0,l.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),p=n?"number"==typeof n?n:n.scroll:null,m=n?"number"==typeof n?n:n.resize:null,h=(0,l.useRef)(!1);(0,l.useEffect)(()=>(h.current=!0,()=>void(h.current=!1)));let[v,g,b]=(0,l.useMemo)(()=>{let e=()=>{if(!d.current.element)return;let{left:e,top:t,width:n,height:r,bottom:o,right:a,x:l,y:c}=d.current.element.getBoundingClientRect(),u={left:e,top:t,width:n,height:r,bottom:o,right:a,x:l,y:c};d.current.element instanceof HTMLElement&&i&&(u.height=d.current.element.offsetHeight,u.width=d.current.element.offsetWidth),Object.freeze(u),h.current&&!f(d.current.lastBounds,u)&&s(d.current.lastBounds=u)};return[e,m?u()(e,m):e,p?u()(e,p):e]},[s,i,p,m]);function y(){d.current.scrollContainers&&(d.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",b,!0)),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function w(){d.current.element&&(d.current.resizeObserver=new a(b),d.current.resizeObserver.observe(d.current.element),r&&d.current.scrollContainers&&d.current.scrollContainers.forEach(e=>e.addEventListener("scroll",b,{capture:!0,passive:!0})))}return t=!!r,(0,l.useEffect)(()=>{if(t)return window.addEventListener("scroll",b,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",b,!0)},[b,t]),(0,l.useEffect)(()=>(window.addEventListener("resize",g),()=>void window.removeEventListener("resize",g)),[g]),(0,l.useEffect)(()=>{y(),w()},[r,b,g]),(0,l.useEffect)(()=>y,[]),[e=>{e&&e!==d.current.element&&(y(),d.current.element=e,d.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:r,overflowX:o,overflowY:i}=window.getComputedStyle(t);return[r,o,i].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),w())},c,v]}({scroll:!0,debounce:{scroll:50,resize:0},...o}),Z=l.useRef(null),N=l.useRef(null);l.useImperativeHandle(t,()=>Z.current);let V=(0,i.u)(A),[H,W]=l.useState(!1),[U,Y]=l.useState(!1);if(H)throw H;if(U)throw U;let K=l.useRef(null);(0,i.a)(()=>{let e=Z.current;F.width>0&&F.height>0&&e&&(K.current||(K.current=(0,i.b)(e)),K.current.configure({gl:d,events:p,shadows:v,linear:g,flat:b,legacy:y,orthographic:_,frameloop:x,dpr:T,performance:S,raycaster:R,camera:j,scene:k,size:F,onPointerMissed:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==V.current?void 0:V.current(...t)},onCreated:e=>{null==e.events.connect||e.events.connect(m?(0,i.i)(m)?m.current:m:N.current),h&&e.setEvents({compute:(e,t)=>{let n=e[h+"X"],r=e[h+"Y"];t.pointer.set(n/t.size.width*2-1,-(r/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==L||L(e)}}),K.current.render(l.createElement(I,null,l.createElement(i.E,{set:Y},l.createElement(l.Suspense,{fallback:l.createElement(i.B,{set:W})},n)))))}),l.useEffect(()=>{let e=Z.current;if(e)return()=>(0,i.d)(e)},[]);let B=m?"none":"auto";return l.createElement("div",(0,a.Z)({ref:N,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...s}},D),l.createElement("div",{ref:z,style:{width:"100%",height:"100%"}},l.createElement("canvas",{ref:Z,style:{display:"block"}},r)))}),S=l.forwardRef(function(e,t){return l.createElement(P,null,l.createElement(T,(0,a.Z)({},e,{ref:t})))})},3802:function(e){function t(e,t,n){function r(){var s=Date.now()-l;s<t&&s>=0?o=setTimeout(r,t-s):(o=null,n||(c=e.apply(a,i),a=i=null))}null==t&&(t=100);var o,i,a,l,c,s=function(){a=this,i=arguments,l=Date.now();var s=n&&!o;return o||(o=setTimeout(r,t)),s&&(c=e.apply(a,i),a=i=null),c};return s.clear=function(){o&&(clearTimeout(o),o=null)},s.flush=function(){o&&(c=e.apply(a,i),a=i=null,clearTimeout(o),o=null)},s}t.debounce=t,e.exports=t},7805:function(e,t,n){n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(7461).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7501:function(e,t,n){n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(7461).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},9079:function(e,t,n){var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(3127)},3127:function(e){!function(){var t={229:function(e){var t,n,r,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c=[],s=!1,u=-1;function d(){s&&r&&(s=!1,r.length?c=r.concat(c):u=-1,c.length&&f())}function f(){if(!s){var e=l(d);s=!0;for(var t=c.length;t;){for(r=c,c=[];++u<t;)r&&r[u].run();u=-1,t=c.length}r=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||s||l(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}},a=!0;try{t[e](i,i.exports,r),a=!1}finally{a&&delete n[e]}return i.exports}r.ab="//";var o=r(229);e.exports=o}()},8025:function(e,t){/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},7777:function(e,t,n){e.exports=n(8025)},4812:function(e,t,n){e.exports=n(5224)},1803:function(e,t){/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,o=e[r];if(0<i(o,t))e[r]=t,e[n]=o,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,o=e.length,a=o>>>1;r<a;){var l=2*(r+1)-1,c=e[l],s=l+1,u=e[s];if(0>i(c,n))s<o&&0>i(u,c)?(e[r]=u,e[s]=n,r=s):(e[r]=c,e[l]=n,r=l);else if(s<o&&0>i(u,n))e[r]=u,e[s]=n,r=s;else break}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a,l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,s=c.now();t.unstable_now=function(){return c.now()-s}}var u=[],d=[],f=1,p=null,m=3,h=!1,v=!1,g=!1,b="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=r(d);null!==t;){if(null===t.callback)o(d);else if(t.startTime<=e)o(d),t.sortIndex=t.expirationTime,n(u,t);else break;t=r(d)}}function M(e){if(g=!1,E(e),!v){if(null!==r(u))v=!0,A(_);else{var t=r(d);null!==t&&L(M,t.startTime-e)}}}function _(e,n){v=!1,g&&(g=!1,y(x),x=-1),h=!0;var i=m;try{for(E(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!S());){var a=p.callback;if("function"==typeof a){p.callback=null,m=p.priorityLevel;var l=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?p.callback=l:p===r(u)&&o(u),E(n)}else o(u);p=r(u)}if(null!==p)var c=!0;else{var s=r(d);null!==s&&L(M,s.startTime-n),c=!1}return c}finally{p=null,m=i,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C=!1,P=null,x=-1,O=5,T=-1;function S(){return!(t.unstable_now()-T<O)}function R(){if(null!==P){var e=t.unstable_now();T=e;var n=!0;try{n=P(!0,e)}finally{n?a():(C=!1,P=null)}}else C=!1}if("function"==typeof w)a=function(){w(R)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,k=j.port2;j.port1.onmessage=R,a=function(){k.postMessage(null)}}else a=function(){b(R,0)};function A(e){P=e,C||(C=!0,a())}function L(e,n){x=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,A(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=i+l,e={id:f++,callback:o,priorityLevel:e,startTime:i,expirationTime:l,sortIndex:-1},i>a?(e.sortIndex=i,n(d,e),null===r(u)&&e===r(d)&&(g?(y(x),x=-1):g=!0,L(M,i-a))):(e.sortIndex=l,n(u,e),v||h||(v=!0,A(_))),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},9514:function(e,t,n){e.exports=n(1803)},278:function(e,t,n){n.d(t,{oC:function(){return e$},VY:function(){return eq},ZA:function(){return eG},ck:function(){return eJ},wU:function(){return e3},__:function(){return eQ},Uv:function(){return eX},Ee:function(){return e0},Rk:function(){return e1},fC:function(){return eK},Z0:function(){return e2},Tr:function(){return e5},tu:function(){return e6},fF:function(){return e7},xz:function(){return eB}});var r=n(2110),o=n(4090),i=n(4991),a=n(4104),l=n(9586),c=n(7533),s=n(1266),u=n(3876),d=n(1260),f=n(6007),p=n(8082),m=n(8687),h=n(5341),v=n(7881),g=n(2642),b=n(3715),y=n(9143),w=n(9830),E=n(6674),M=n(7225);let _=["Enter"," "],C=["ArrowUp","PageDown","End"],P=["ArrowDown","PageUp","Home",...C],x={ltr:[..._,"ArrowRight"],rtl:[..._,"ArrowLeft"]},O={ltr:["ArrowLeft"],rtl:["ArrowRight"]},T="Menu",[S,R,j]=(0,c.B)(T),[k,A]=(0,a.b)(T,[j,h.D7,b.Pc]),L=(0,h.D7)(),D=(0,b.Pc)(),[I,z]=k(T),[F,Z]=k(T),N=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,...i}=e,a=L(n);return(0,o.createElement)(h.ee,(0,r.Z)({},a,i,{ref:t}))}),V="MenuPortal",[H,W]=k(V,{forceMount:void 0}),U="MenuContent",[Y,K]=k(U),B=(0,o.forwardRef)((e,t)=>{let n=W(U,e.__scopeMenu),{forceMount:i=n.forceMount,...a}=e,l=z(U,e.__scopeMenu),c=Z(U,e.__scopeMenu);return(0,o.createElement)(S.Provider,{scope:e.__scopeMenu},(0,o.createElement)(g.z,{present:i||l.open},(0,o.createElement)(S.Slot,{scope:e.__scopeMenu},c.modal?(0,o.createElement)(X,(0,r.Z)({},a,{ref:t})):(0,o.createElement)(q,(0,r.Z)({},a,{ref:t})))))}),X=(0,o.forwardRef)((e,t)=>{let n=z(U,e.__scopeMenu),a=(0,o.useRef)(null),l=(0,s.e)(t,a);return(0,o.useEffect)(()=>{let e=a.current;if(e)return(0,E.Ry)(e)},[]),(0,o.createElement)(G,(0,r.Z)({},e,{ref:l,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:(0,i.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),q=(0,o.forwardRef)((e,t)=>{let n=z(U,e.__scopeMenu);return(0,o.createElement)(G,(0,r.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),G=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,loop:a=!1,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:m,onEntryFocus:v,onEscapeKeyDown:g,onPointerDownOutside:w,onFocusOutside:E,onInteractOutside:_,onDismiss:x,disableOutsideScroll:O,...T}=e,S=z(U,n),j=Z(U,n),k=L(n),A=D(n),I=R(n),[F,N]=(0,o.useState)(null),V=(0,o.useRef)(null),H=(0,s.e)(t,V,S.onContentChange),W=(0,o.useRef)(0),K=(0,o.useRef)(""),B=(0,o.useRef)(0),X=(0,o.useRef)(null),q=(0,o.useRef)("right"),G=(0,o.useRef)(0),Q=O?M.Z:o.Fragment,J=O?{as:y.g7,allowPinchZoom:!0}:void 0,$=e=>{var t,n;let r=K.current+e,o=I().filter(e=>!e.disabled),i=document.activeElement,a=null===(t=o.find(e=>e.ref.current===i))||void 0===t?void 0:t.textValue,l=function(e,t,n){var r;let o=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=(r=Math.max(n?e.indexOf(n):-1,0),e.map((t,n)=>e[(r+n)%e.length]));1===o.length&&(i=i.filter(e=>e!==n));let a=i.find(e=>e.toLowerCase().startsWith(o.toLowerCase()));return a!==n?a:void 0}(o.map(e=>e.textValue),r,a),c=null===(n=o.find(e=>e.textValue===l))||void 0===n?void 0:n.ref.current;!function e(t){K.current=t,window.clearTimeout(W.current),""!==t&&(W.current=window.setTimeout(()=>e(""),1e3))}(r),c&&setTimeout(()=>c.focus())};(0,o.useEffect)(()=>()=>window.clearTimeout(W.current),[]),(0,f.EW)();let ee=(0,o.useCallback)(e=>{var t,n,r;return q.current===(null===(t=X.current)||void 0===t?void 0:t.side)&&!!(r=null===(n=X.current)||void 0===n?void 0:n.area)&&function(e,t){let{x:n,y:r}=e,o=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){let a=t[e].x,l=t[e].y,c=t[i].x,s=t[i].y;l>r!=s>r&&n<(c-a)*(r-l)/(s-l)+a&&(o=!o)}return o}({x:e.clientX,y:e.clientY},r)},[]);return(0,o.createElement)(Y,{scope:n,searchRef:K,onItemEnter:(0,o.useCallback)(e=>{ee(e)&&e.preventDefault()},[ee]),onItemLeave:(0,o.useCallback)(e=>{var t;ee(e)||(null===(t=V.current)||void 0===t||t.focus(),N(null))},[ee]),onTriggerLeave:(0,o.useCallback)(e=>{ee(e)&&e.preventDefault()},[ee]),pointerGraceTimerRef:B,onPointerGraceIntentChange:(0,o.useCallback)(e=>{X.current=e},[])},(0,o.createElement)(Q,J,(0,o.createElement)(p.M,{asChild:!0,trapped:l,onMountAutoFocus:(0,i.M)(c,e=>{var t;e.preventDefault(),null===(t=V.current)||void 0===t||t.focus()}),onUnmountAutoFocus:u},(0,o.createElement)(d.XB,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:g,onPointerDownOutside:w,onFocusOutside:E,onInteractOutside:_,onDismiss:x},(0,o.createElement)(b.fC,(0,r.Z)({asChild:!0},A,{dir:j.dir,orientation:"vertical",loop:a,currentTabStopId:F,onCurrentTabStopIdChange:N,onEntryFocus:(0,i.M)(v,e=>{j.isUsingKeyboardRef.current||e.preventDefault()})}),(0,o.createElement)(h.VY,(0,r.Z)({role:"menu","aria-orientation":"vertical","data-state":ey(S.open),"data-radix-menu-content":"",dir:j.dir},k,T,{ref:H,style:{outline:"none",...T.style},onKeyDown:(0,i.M)(T.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&$(e.key));let o=V.current;if(e.target!==o||!P.includes(e.key))return;e.preventDefault();let i=I().filter(e=>!e.disabled).map(e=>e.ref.current);C.includes(e.key)&&i.reverse(),function(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}(i)}),onBlur:(0,i.M)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(W.current),K.current="")}),onPointerMove:(0,i.M)(e.onPointerMove,eM(e=>{let t=e.target,n=G.current!==e.clientX;if(e.currentTarget.contains(t)&&n){let t=e.clientX>G.current?"right":"left";q.current=t,G.current=e.clientX}}))})))))))}),Q=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,...i}=e;return(0,o.createElement)(l.WV.div,(0,r.Z)({role:"group"},i,{ref:t}))}),J=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,...i}=e;return(0,o.createElement)(l.WV.div,(0,r.Z)({},i,{ref:t}))}),$="MenuItem",ee="menu.itemSelect",et=(0,o.forwardRef)((e,t)=>{let{disabled:n=!1,onSelect:a,...c}=e,u=(0,o.useRef)(null),d=Z($,e.__scopeMenu),f=K($,e.__scopeMenu),p=(0,s.e)(t,u),m=(0,o.useRef)(!1);return(0,o.createElement)(en,(0,r.Z)({},c,{ref:p,disabled:n,onClick:(0,i.M)(e.onClick,()=>{let e=u.current;if(!n&&e){let t=new CustomEvent(ee,{bubbles:!0,cancelable:!0});e.addEventListener(ee,e=>null==a?void 0:a(e),{once:!0}),(0,l.jH)(e,t),t.defaultPrevented?m.current=!1:d.onClose()}}),onPointerDown:t=>{var n;null===(n=e.onPointerDown)||void 0===n||n.call(e,t),m.current=!0},onPointerUp:(0,i.M)(e.onPointerUp,e=>{var t;m.current||null===(t=e.currentTarget)||void 0===t||t.click()}),onKeyDown:(0,i.M)(e.onKeyDown,e=>{let t=""!==f.searchRef.current;!n&&(!t||" "!==e.key)&&_.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})}))}),en=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,disabled:a=!1,textValue:c,...u}=e,d=K($,n),f=D(n),p=(0,o.useRef)(null),m=(0,s.e)(t,p),[h,v]=(0,o.useState)(!1),[g,y]=(0,o.useState)("");return(0,o.useEffect)(()=>{let e=p.current;if(e){var t;y((null!==(t=e.textContent)&&void 0!==t?t:"").trim())}},[u.children]),(0,o.createElement)(S.ItemSlot,{scope:n,disabled:a,textValue:null!=c?c:g},(0,o.createElement)(b.ck,(0,r.Z)({asChild:!0},f,{focusable:!a}),(0,o.createElement)(l.WV.div,(0,r.Z)({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0},u,{ref:m,onPointerMove:(0,i.M)(e.onPointerMove,eM(e=>{a?d.onItemLeave(e):(d.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus())})),onPointerLeave:(0,i.M)(e.onPointerLeave,eM(e=>d.onItemLeave(e))),onFocus:(0,i.M)(e.onFocus,()=>v(!0)),onBlur:(0,i.M)(e.onBlur,()=>v(!1))}))))}),er=(0,o.forwardRef)((e,t)=>{let{checked:n=!1,onCheckedChange:a,...l}=e;return(0,o.createElement)(es,{scope:e.__scopeMenu,checked:n},(0,o.createElement)(et,(0,r.Z)({role:"menuitemcheckbox","aria-checked":ew(n)?"mixed":n},l,{ref:t,"data-state":eE(n),onSelect:(0,i.M)(l.onSelect,()=>null==a?void 0:a(!!ew(n)||!n),{checkForDefaultPrevented:!1})})))}),[eo,ei]=k("MenuRadioGroup",{value:void 0,onValueChange:()=>{}}),ea=(0,o.forwardRef)((e,t)=>{let{value:n,onValueChange:i,...a}=e,l=(0,w.W)(i);return(0,o.createElement)(eo,{scope:e.__scopeMenu,value:n,onValueChange:l},(0,o.createElement)(Q,(0,r.Z)({},a,{ref:t})))}),el=(0,o.forwardRef)((e,t)=>{let{value:n,...a}=e,l=ei("MenuRadioItem",e.__scopeMenu),c=n===l.value;return(0,o.createElement)(es,{scope:e.__scopeMenu,checked:c},(0,o.createElement)(et,(0,r.Z)({role:"menuitemradio","aria-checked":c},a,{ref:t,"data-state":eE(c),onSelect:(0,i.M)(a.onSelect,()=>{var e;return null===(e=l.onValueChange)||void 0===e?void 0:e.call(l,n)},{checkForDefaultPrevented:!1})})))}),ec="MenuItemIndicator",[es,eu]=k(ec,{checked:!1}),ed=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,forceMount:i,...a}=e,c=eu(ec,n);return(0,o.createElement)(g.z,{present:i||ew(c.checked)||!0===c.checked},(0,o.createElement)(l.WV.span,(0,r.Z)({},a,{ref:t,"data-state":eE(c.checked)})))}),ef=(0,o.forwardRef)((e,t)=>{let{__scopeMenu:n,...i}=e;return(0,o.createElement)(l.WV.div,(0,r.Z)({role:"separator","aria-orientation":"horizontal"},i,{ref:t}))}),ep=((e,t)=>{let{__scopeMenu:n,...i}=e,a=L(n);return(0,o.createElement)(h.Eh,(0,r.Z)({},a,i,{ref:t}))},"MenuSub"),[em,eh]=k(ep),ev="MenuSubTrigger",eg=(0,o.forwardRef)((e,t)=>{let n=z(ev,e.__scopeMenu),a=Z(ev,e.__scopeMenu),l=eh(ev,e.__scopeMenu),c=K(ev,e.__scopeMenu),u=(0,o.useRef)(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=c,p={__scopeMenu:e.__scopeMenu},m=(0,o.useCallback)(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return(0,o.useEffect)(()=>m,[m]),(0,o.useEffect)(()=>{let e=d.current;return()=>{window.clearTimeout(e),f(null)}},[d,f]),(0,o.createElement)(N,(0,r.Z)({asChild:!0},p),(0,o.createElement)(en,(0,r.Z)({id:l.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":l.contentId,"data-state":ey(n.open)},e,{ref:(0,s.F)(t,l.onTriggerChange),onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:(0,i.M)(e.onPointerMove,eM(t=>{c.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||u.current||(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:(0,i.M)(e.onPointerLeave,eM(e=>{var t,r;m();let o=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(o){let t=null===(r=n.content)||void 0===r?void 0:r.dataset.side,i="right"===t,a=o[i?"left":"right"],l=o[i?"right":"left"];c.onPointerGraceIntentChange({area:[{x:e.clientX+(i?-5:5),y:e.clientY},{x:a,y:o.top},{x:l,y:o.top},{x:l,y:o.bottom},{x:a,y:o.bottom}],side:t}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(e),e.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:(0,i.M)(e.onKeyDown,t=>{let r=""!==c.searchRef.current;if(!e.disabled&&(!r||" "!==t.key)&&x[a.dir].includes(t.key)){var o;n.onOpenChange(!0),null===(o=n.content)||void 0===o||o.focus(),t.preventDefault()}})})))}),eb=(0,o.forwardRef)((e,t)=>{let n=W(U,e.__scopeMenu),{forceMount:a=n.forceMount,...l}=e,c=z(U,e.__scopeMenu),u=Z(U,e.__scopeMenu),d=eh("MenuSubContent",e.__scopeMenu),f=(0,o.useRef)(null),p=(0,s.e)(t,f);return(0,o.createElement)(S.Provider,{scope:e.__scopeMenu},(0,o.createElement)(g.z,{present:a||c.open},(0,o.createElement)(S.Slot,{scope:e.__scopeMenu},(0,o.createElement)(G,(0,r.Z)({id:d.contentId,"aria-labelledby":d.triggerId},l,{ref:p,align:"start",side:"rtl"===u.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;u.isUsingKeyboardRef.current&&(null===(t=f.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,i.M)(e.onFocusOutside,e=>{e.target!==d.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:(0,i.M)(e.onEscapeKeyDown,e=>{u.onClose(),e.preventDefault()}),onKeyDown:(0,i.M)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),n=O[u.dir].includes(e.key);if(t&&n){var r;c.onOpenChange(!1),null===(r=d.trigger)||void 0===r||r.focus(),e.preventDefault()}})})))))});function ey(e){return e?"open":"closed"}function ew(e){return"indeterminate"===e}function eE(e){return ew(e)?"indeterminate":e?"checked":"unchecked"}function eM(e){return t=>"mouse"===t.pointerType?e(t):void 0}let e_=e=>{let{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:l=!0}=e,c=L(t),[s,d]=(0,o.useState)(null),f=(0,o.useRef)(!1),p=(0,w.W)(a),m=(0,u.gm)(i);return(0,o.useEffect)(()=>{let e=()=>{f.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>f.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,o.createElement)(h.fC,c,(0,o.createElement)(I,{scope:t,open:n,onOpenChange:p,content:s,onContentChange:d},(0,o.createElement)(F,{scope:t,onClose:(0,o.useCallback)(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:m,modal:l},r)))},eC=e=>{let{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=z(V,t);return(0,o.createElement)(H,{scope:t,forceMount:n},(0,o.createElement)(g.z,{present:n||a.open},(0,o.createElement)(v.h,{asChild:!0,container:i},r)))},eP=e=>{let{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,a=z(ep,t),l=L(t),[c,s]=(0,o.useState)(null),[u,d]=(0,o.useState)(null),f=(0,w.W)(i);return(0,o.useEffect)(()=>(!1===a.open&&f(!1),()=>f(!1)),[a.open,f]),(0,o.createElement)(h.fC,l,(0,o.createElement)(I,{scope:t,open:r,onOpenChange:f,content:u,onContentChange:d},(0,o.createElement)(em,{scope:t,contentId:(0,m.M)(),triggerId:(0,m.M)(),trigger:c,onTriggerChange:s},n)))};var ex=n(9310);let eO="ContextMenu",[eT,eS]=(0,a.b)(eO,[A]),eR=A(),[ej,ek]=eT(eO),eA=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,disabled:a=!1,...c}=e,s=ek("ContextMenuTrigger",n),u=eR(n),d=(0,o.useRef)({x:0,y:0}),f=(0,o.useRef)({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...d.current})}),p=(0,o.useRef)(0),m=(0,o.useCallback)(()=>window.clearTimeout(p.current),[]),h=e=>{d.current={x:e.clientX,y:e.clientY},s.onOpenChange(!0)};return(0,o.useEffect)(()=>m,[m]),(0,o.useEffect)(()=>void(a&&m()),[a,m]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(N,(0,r.Z)({},u,{virtualRef:f})),(0,o.createElement)(l.WV.span,(0,r.Z)({"data-state":s.open?"open":"closed","data-disabled":a?"":void 0},c,{ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:a?e.onContextMenu:(0,i.M)(e.onContextMenu,e=>{m(),h(e),e.preventDefault()}),onPointerDown:a?e.onPointerDown:(0,i.M)(e.onPointerDown,eY(e=>{m(),p.current=window.setTimeout(()=>h(e),700)})),onPointerMove:a?e.onPointerMove:(0,i.M)(e.onPointerMove,eY(m)),onPointerCancel:a?e.onPointerCancel:(0,i.M)(e.onPointerCancel,eY(m)),onPointerUp:a?e.onPointerUp:(0,i.M)(e.onPointerUp,eY(m))})))}),eL=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,...i}=e,a=ek("ContextMenuContent",n),l=eR(n),c=(0,o.useRef)(!1);return(0,o.createElement)(B,(0,r.Z)({},l,i,{ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:t=>{var n;null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),!t.defaultPrevented&&c.current&&t.preventDefault(),c.current=!1},onInteractOutside:t=>{var n;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||a.modal||(c.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),eD=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,...i}=e,a=eR(n);return(0,o.createElement)(Q,(0,r.Z)({},a,i,{ref:t}))}),eI=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,...i}=e,a=eR(n);return(0,o.createElement)(J,(0,r.Z)({},a,i,{ref:t}))}),ez=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,...i}=e,a=eR(n);return(0,o.createElement)(et,(0,r.Z)({},a,i,{ref:t}))}),eF=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,...i}=e,a=eR(n);return(0,o.createElement)(er,(0,r.Z)({},a,i,{ref:t}))}),eZ=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,...i}=e,a=eR(n);return(0,o.createElement)(ea,(0,r.Z)({},a,i,{ref:t}))}),eN=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,...i}=e,a=eR(n);return(0,o.createElement)(el,(0,r.Z)({},a,i,{ref:t}))}),eV=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,...i}=e,a=eR(n);return(0,o.createElement)(ed,(0,r.Z)({},a,i,{ref:t}))}),eH=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,...i}=e,a=eR(n);return(0,o.createElement)(ef,(0,r.Z)({},a,i,{ref:t}))}),eW=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,...i}=e,a=eR(n);return(0,o.createElement)(eg,(0,r.Z)({},a,i,{ref:t}))}),eU=(0,o.forwardRef)((e,t)=>{let{__scopeContextMenu:n,...i}=e,a=eR(n);return(0,o.createElement)(eb,(0,r.Z)({},a,i,{ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))});function eY(e){return t=>"mouse"!==t.pointerType?e(t):void 0}let eK=e=>{let{__scopeContextMenu:t,children:n,onOpenChange:i,dir:a,modal:l=!0}=e,[c,s]=(0,o.useState)(!1),u=eR(t),d=(0,w.W)(i),f=(0,o.useCallback)(e=>{s(e),d(e)},[d]);return(0,o.createElement)(ej,{scope:t,open:c,onOpenChange:f,modal:l},(0,o.createElement)(e_,(0,r.Z)({},u,{dir:a,open:c,onOpenChange:f,modal:l}),n))},eB=eA,eX=e=>{let{__scopeContextMenu:t,...n}=e,i=eR(t);return(0,o.createElement)(eC,(0,r.Z)({},i,n))},eq=eL,eG=eD,eQ=eI,eJ=ez,e$=eF,e0=eZ,e1=eN,e3=eV,e2=eH,e5=e=>{let{__scopeContextMenu:t,children:n,onOpenChange:i,open:a,defaultOpen:l}=e,c=eR(t),[s,u]=(0,ex.T)({prop:a,defaultProp:l,onChange:i});return(0,o.createElement)(eP,(0,r.Z)({},c,{open:s,onOpenChange:u}),n)},e7=eW,e6=eU}}]);